{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoaderContainer/LoaderContainer.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/LoaderContainer/LoaderContainer.js","components/Modal/Modal.js","services/images-api.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","value","props","initialValue","handleOnChange","e","setState","currentTarget","handleOnSubmit","preventDefault","toast","info","onSubmit","reset","className","s","Searchbar","SearchForm","this","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","defaultProps","ImageGalleryItem","webUrl","largeUrl","desc","openModal","onClick","src","alt","ImageGalleryItem__image","propTypes","images","PropTypes","array","func","isRequired","ImageGallery","map","image","id","webformatURL","largeImageURL","tags","Button","text","LoaderContainer","children","Container","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","url","createPortal","Overlay","BASE_URL","API_KEY","api","fetchImages","searchQuery","page","fetch","App","loading","showButton","error","modalData","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","handleFormSubmit","query","handleLoadMoreButton","dataset","prevProps","prevState","isSearchQueryChanged","isPageChanged","imagesAPI","then","response","json","hits","length","catch","finally","message","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,mBCA1GD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,UAAY,qC,gLCIxBC,E,4MAOJC,MAAQ,CACNC,MAAO,EAAKC,MAAMC,c,EAGpBC,eAAiB,SAACC,GAChB,EAAKC,SAAS,CAAEL,MAAOI,EAAEE,cAAcN,S,EAGzCO,eAAiB,SAACH,GAEhB,GADAA,EAAEI,iBACuB,KAArB,EAAKT,MAAMC,MACb,OAAOS,IAAMC,KAAK,eAEpB,EAAKT,MAAMU,SAAS,EAAKZ,MAAMC,OAC/B,EAAKY,S,EAGPA,MAAQ,WACN,EAAKP,SAAS,CAAEL,MAAO,M,4CAGzB,WACE,OACE,wBAAQa,UAAWC,IAAEC,UAArB,SACE,uBAAMF,UAAWC,IAAEE,WAAYL,SAAUM,KAAKV,eAA9C,UACE,wBAAQW,KAAK,SAASL,UAAWC,IAAEK,mBAAnC,SACE,sBAAMN,UAAWC,IAAEM,wBAAnB,sBAGF,uBACEpB,MAAOiB,KAAKlB,MAAMC,MAClBa,UAAWC,IAAEO,kBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUR,KAAKd,0B,GA3CHuB,aAAlB5B,EACG6B,aAAe,CACpBzB,aAAc,IAiDHJ,Q,kDChCA8B,EApBU,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UAClD,OACE,oBACEnB,UAAWC,IAAEc,iBACb,WAAUE,EACV,YAAWC,EACXE,QAASD,EAJX,SAME,qBAAKE,IAAKL,EAAQM,IAAKJ,EAAMlB,UAAWC,IAAEsB,6B,iBCYhDR,EAAiBS,UAAY,CAC3BC,OAAQC,IAAUC,MAClBR,UAAWO,IAAUE,KAAKC,YAGbC,MAxBM,SAAC,GAA2B,IAAzBL,EAAwB,EAAxBA,OAAQN,EAAgB,EAAhBA,UAC9B,OACE,oBAAInB,UAAWC,IAAE6B,aAAjB,SACGL,EAAOM,KAAI,SAACC,GACX,IAAQC,EAA0CD,EAA1CC,GAAIC,EAAsCF,EAAtCE,aAAcC,EAAwBH,EAAxBG,cAAeC,EAASJ,EAATI,KACzC,OACE,cAAC,EAAD,CAEEpB,OAAQkB,EACRjB,SAAUkB,EACVjB,KAAMkB,EACNjB,UAAWA,GAJNc,S,iBCKFI,EAbA,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAAMlB,EAAc,EAAdA,QACtB,OACE,wBAAQpB,UAAWC,IAAEoC,OAAQhC,KAAK,SAASe,QAASA,EAApD,SACGkB,K,iBCKQC,EARS,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACzB,OAAO,qBAAKxC,UAAWC,IAAEwC,UAAlB,SAA8BD,K,iBCAjCE,EAAYC,SAASC,cAAc,eA0C1BC,E,4MAzBbC,cAAgB,SAACvD,GACA,WAAXA,EAAEwD,MACJ,EAAK3D,MAAM4D,c,EAIfC,oBAAsB,SAAC1D,GACjBA,EAAEE,gBAAkBF,EAAE2D,QACxB,EAAK9D,MAAM4D,c,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWhD,KAAK0C,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWjD,KAAK0C,iB,oBAe7C,WACE,MAAsB1C,KAAKhB,MAAnBkE,EAAR,EAAQA,IAAKpC,EAAb,EAAaA,KACb,OAAOqC,uBACL,qBAAKvD,UAAWC,IAAEuD,QAASpC,QAAShB,KAAK6C,oBAAzC,SACE,qBAAKjD,UAAWC,IAAE4C,MAAlB,SACE,qBAAKxB,IAAKiC,EAAKhC,IAAKJ,QAGxBwB,O,GAnCc7B,aCPd4C,EAAW,2BACXC,EAAU,qCAUDC,EAFH,CAAEC,YANM,SAACC,GAA2B,IAAdC,EAAa,uDAAN,EACvC,OAAOC,MAAM,GAAD,OACPN,EADO,cACOI,EADP,iBAC2BC,EAD3B,gBACuCJ,EADvC,2DC0HCM,G,wNAjHb9E,MAAQ,CACN2E,YAAa,GACbI,SAAS,EACTxC,OAAQ,GACRqC,KAAM,EACNI,YAAY,EACZC,MAAO,KACPhD,WAAW,EACXiD,UAAW,CACTd,IAAK,GACLpC,KAAM,K,EA2CVmD,aAAe,WACblB,OAAOmB,SAAS,CACdC,IAAK5B,SAAS6B,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,iBAAmB,SAACC,GAClB,EAAKpF,SAAS,CAAEqE,YAAae,EAAOd,KAAM,EAAGrC,OAAQ,M,EAGvDoD,qBAAuB,SAACtF,GACtB,EAAKC,UAAS,kBAAe,CAAEsE,KAAjB,EAAGA,KAA2B,O,EAG9C3C,UAAY,SAAC5B,GACX,MAAsBA,EAAEE,cAAcqF,QAA9BxB,EAAR,EAAQA,IAAKpC,EAAb,EAAaA,KACb,EAAK1B,SAAS,CAAE2B,WAAW,EAAMiD,UAAW,CAAEd,MAAKpC,W,EAGrD8B,WAAa,WACX,EAAKxD,SAAS,CAAE2B,WAAW,K,wDA5D7B,SAAmB4D,EAAWC,GAAY,IAAD,OACjCC,EACJD,EAAUnB,cAAgBzD,KAAKlB,MAAM2E,YACjCqB,EAAgBF,EAAUlB,OAAS1D,KAAKlB,MAAM4E,MAEhDmB,GAAwBC,KAC1B9E,KAAKZ,SAAS,CAAEyE,SAAS,EAAMC,YAAY,IAE3CiB,EACGvB,YAAYxD,KAAKlB,MAAM2E,YAAazD,KAAKlB,MAAM4E,MAC/CsB,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,YAAe,IAAZG,EAAW,EAAXA,KACP,GAAoB,IAAhBA,EAAKC,OACP,OAAIP,EACKrF,IAAMC,KAAK,uBAEXD,IAAMC,KAAK,6CAIF,KAAhB0F,EAAKC,OACP,EAAKhG,SAAS,CAAE0E,YAAY,IAE5B,EAAK1E,SAAS,CAAE0E,YAAY,IAG9B,EAAK1E,UAAS,YAAiB,IAAdiC,EAAa,EAAbA,OACf,MAAO,CAAEA,OAAO,GAAD,mBAAMA,GAAN,YAAiB8D,QAG9BL,GAAqC,IAApB,EAAKhG,MAAM4E,MAC9B,EAAKO,kBAGRoB,OAAM,SAACtB,GAAD,OAAW,EAAK3E,SAAS,CAAE2E,aACjCuB,SAAQ,kBAAM,EAAKlG,SAAS,CAAEyE,SAAS,U,oBA4B9C,WACE,MACE7D,KAAKlB,MADCiF,EAAR,EAAQA,MAAO1C,EAAf,EAAeA,OAAQwC,EAAvB,EAAuBA,QAASC,EAAhC,EAAgCA,WAAY/C,EAA5C,EAA4CA,UAAWiD,EAAvD,EAAuDA,UAGvD,OACE,qCACE,cAAC,EAAD,CAAWtE,SAAUM,KAAKuE,mBAEzBR,GAAS,4BAAIA,EAAMwB,UAEpB,cAAC,EAAD,CAAclE,OAAQA,EAAQN,UAAWf,KAAKe,YAE7C8C,GACC,cAAC,EAAD,UACE,cAAC,IAAD,CAAQ5D,KAAK,YAAYuF,MAAM,UAAUC,OAAQ,GAAIC,MAAO,OAI/D5B,IAAeD,GACd,cAAC,EAAD,CAAQ3B,KAAK,YAAYlB,QAAShB,KAAKyE,uBAGxC1D,GACC,cAAC,EAAD,CACEmC,IAAKc,EAAUd,IACfpC,KAAMkD,EAAUlD,KAChB8B,WAAY5C,KAAK4C,aAIrB,cAAC,IAAD,CAAgB+C,UAAW,a,GA5GjBlF,cCNlBmF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvD,SAASwD,eAAe,U,kBCT1BpH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,wBAA0B,2CAA2C,kBAAoB,wC","file":"static/js/main.e07abc61.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Jj9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoaderContainer_Container__2fPYl\"};","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport s from \"./SearchBar.module.css\";\n\nclass SearchBar extends Component {\n  static defaultProps = {\n    initialValue: \"\",\n  };\n\n  static propTypes = { onSubmit: PropTypes.func.isRequired };\n\n  state = {\n    value: this.props.initialValue,\n  };\n\n  handleOnChange = (e) => {\n    this.setState({ value: e.currentTarget.value });\n  };\n\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.value === \"\") {\n      return toast.info(\"Enter query\");\n    }\n    this.props.onSubmit(this.state.value);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ value: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__buttonLabel}>Search</span>\n          </button>\n\n          <input\n            value={this.state.value}\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleOnChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webUrl, largeUrl, desc, openModal }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      data-url={largeUrl}\n      data-desc={desc}\n      onClick={openModal}\n    >\n      <img src={webUrl} alt={desc} className={s.ImageGalleryItem__image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webUrl: PropTypes.string.isRequired,\n  largeUrl: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image) => {\n        const { id, webformatURL, largeImageURL, tags } = image;\n        return (\n          <ImageGalleryItem\n            key={id}\n            webUrl={webformatURL}\n            largeUrl={largeImageURL}\n            desc={tags}\n            openModal={openModal}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ text, onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      {text}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./LoaderContainer.module.css\";\n\nconst LoaderContainer = ({ children }) => {\n  return <div className={s.Container}>{children}</div>;\n};\n\nLoaderContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default LoaderContainer;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    desc: PropTypes.string.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { url, desc } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={url} alt={desc} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21680685-e17dbc926fcd99c5b67998b00\";\n\nconst fetchImages = (searchQuery, page = 1) => {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n\nconst api = { fetchImages };\n\nexport default api;\n","import React, { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport SearchBar from \"./components/SearchBar\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport LoaderContainer from \"./components/LoaderContainer\";\nimport Modal from \"./components/Modal\";\nimport imagesAPI from \"./services/images-api\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    loading: false,\n    images: [],\n    page: 1,\n    showButton: false,\n    error: null,\n    openModal: false,\n    modalData: {\n      url: \"\",\n      desc: \"\",\n    },\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const isSearchQueryChanged =\n      prevState.searchQuery !== this.state.searchQuery;\n    const isPageChanged = prevState.page !== this.state.page;\n\n    if (isSearchQueryChanged || isPageChanged) {\n      this.setState({ loading: true, showButton: false });\n\n      imagesAPI\n        .fetchImages(this.state.searchQuery, this.state.page)\n        .then((response) => response.json())\n        .then(({ hits }) => {\n          if (hits.length === 0) {\n            if (isSearchQueryChanged) {\n              return toast.info(\"Enter another query\");\n            } else {\n              return toast.info(\"There ara no more images, enter new query\");\n            }\n          }\n\n          if (hits.length === 12) {\n            this.setState({ showButton: true });\n          } else {\n            this.setState({ showButton: false });\n          }\n\n          this.setState(({ images }) => {\n            return { images: [...images, ...hits] };\n          });\n\n          if (isPageChanged && this.state.page !== 1) {\n            this.smoothScroll();\n          }\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  smoothScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  handleFormSubmit = (query) => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  handleLoadMoreButton = (e) => {\n    this.setState(({ page }) => ({ page: page + 1 }));\n  };\n\n  openModal = (e) => {\n    const { url, desc } = e.currentTarget.dataset;\n    this.setState({ openModal: true, modalData: { url, desc } });\n  };\n\n  closeModal = () => {\n    this.setState({ openModal: false });\n  };\n\n  render() {\n    const { error, images, loading, showButton, openModal, modalData } =\n      this.state;\n\n    return (\n      <>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n\n        {error && <p>{error.message}</p>}\n\n        <ImageGallery images={images} openModal={this.openModal} />\n\n        {loading && (\n          <LoaderContainer>\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          </LoaderContainer>\n        )}\n\n        {showButton && !loading && (\n          <Button text=\"Load more\" onClick={this.handleLoadMoreButton} />\n        )}\n\n        {openModal && (\n          <Modal\n            url={modalData.url}\n            desc={modalData.desc}\n            closeModal={this.closeModal}\n          />\n        )}\n\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchForm__button\":\"SearchBar_SearchForm__button__3d0oz\",\"SearchForm__buttonLabel\":\"SearchBar_SearchForm__buttonLabel__2jhuA\",\"SearchForm__input\":\"SearchBar_SearchForm__input__30P3e\"};"],"sourceRoot":""}